<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Patchara1st Portfolio</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css?family=Sarabun" rel="stylesheet">
    <link rel="stylesheet" href="../assets/main.css">
    <link rel="stylesheet" href="../assets/homework.css">

</head>

<body>
    <div class="container">
        <div class="header">
            <a href="../index.html">
                <img src="../images/portfolio-logo.png" alt="" class="logo">
            </a>
        </div>
        <section id="menu">
            <nav class="navbar navbar-expand-md navbar-light bg-transparent">
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo01"
                    aria-controls="navbarTogglerDemo01" aria-expanded="false" aria-label="Toggle navigation">
                    <img class="menu-icon"
                        src="data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTYuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjUxMnB4IiBoZWlnaHQ9IjUxMnB4IiB2aWV3Qm94PSIwIDAgMjU1IDI1NSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjU1IDI1NTsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxnIGlkPSJhcnJvdy1kcm9wLWRvd24iPgoJCTxwb2x5Z29uIHBvaW50cz0iMCw2My43NSAxMjcuNSwxOTEuMjUgMjU1LDYzLjc1ICAgIiBmaWxsPSIjMDAwMDAwIi8+Cgk8L2c+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPC9zdmc+Cg==" />
                </button>
                <div class="collapse navbar-collapse" id="navbarTogglerDemo01">
                    <ul class="navbar-nav">
                        <li class="nav-item active">
                            <a class="nav-link chosen" href="../index.html">Home<span
                                    class="sr-only">(current)</span></a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="../exercise.html">Exercise</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="../homework.html">Homework</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">About me</a>
                        </li>
                    </ul>
                </div>
            </nav>
        </section>
        <section class="content-homework">
            <h1>SPA and PWA เพราะหน้าเดียวก็เฟี้ยวได้</h1>
            <img src="../images/pwa_spa.png" alt="" class="thumbnail">
            <p>
                ปัจจุบัน เรามักได้ยิน คำว่า เว็บแบบ SPA บ่อยขึ้น แต่เชื่อว่า ยังมีอีกหลายคน
                ที่ยังไม่รู้ ว่ามันคืออะไร คำว่า SPA ในที่นี้ ไม่ใช่ยี่ห้อ ของสินค้า หรือ ชื่อบริการ
                แต่เป็นคำย่อ ที่มาจาก คำว่า Single Page Application ซึ่งเป็น
                เทคนิคการพัฒนาเว็บไซต์ ที่มีวิธีการทำงาน ในลักษณะ ใกล้เคียง
                กับ Application ที่ได้รับความนิยม เป็นอย่างมาก ในปัจจุบัน
                แล้วเว็บลักษณะนี้ มันต่างจากทั่วไป อย่างไร ? มีประโยชน์ยังไง ?
                ผมจะลองอธิบายให้ฟังครับ
            </p>
            <h4>เว็บแบบ SPA ต่างจากเว็บทั่วไปอย่างไร ?</h4>
            <!----img src="../images/wix-homepage.PNG" alt="็Homepage wix.com" class="image"-->
            <p>สำหรับเว็บไซต์ โดยทั่วไป ที่เราใช้งาน ในปัจจุบัน เวลาคลิ้กดูข้อมูล หรือ
                เปลี่ยน URL หน้าเว็บจะ Reload เพื่อดึงข้อมูลใหม่ มาแสดง
                แต่เว็บแบบ SPA ได้รับการออกแบบ ให้ลดการ Reload หน้าเว็บ
                โดยไม่จำเป็น ซึ่งหน้าเว็บ ลักษณะนี้ เมื่อคลิ้กดูข้อมูล จะไม่ดึงข้อมูลมาใหม่
                ทั้งหน้า แต่จะใช้ JavaScript ในการดึงข้อมูล เพียงบางส่วน เพื่อนำมา Update เฉพาะบริเวณ ที่จำเป็น
            </p>
            <img src="../images/compare_spa_pwa.png" alt="comparison" class="image">
            <p>
                จากภาพด้านบน จะเห็นว่า เว็บทั่วไป (ภาพซ้ายมือ)
                เมื่อดึงข้อมูล หน้า about us มาแล้ว Browser จะ Redirect
                ไปที่ URL ใหม่ โดยอัตโนมัติ เพื่อแสดงข้อมูล ในขณะที่
                เว็บแบบ SPA (ภาพขวามือ) เมื่อดึงข้อมูล หน้า about us
                มาแล้ว Browser ยังจะไม่เปลี่ยนหน้า แต่แสดงข้อมูล ในหน้าเดิม
                ส่งผลให้เว็บแบบ SPA มี User Experience ที่ดีกว่า สามารถตอบสนอง
                ได้รวดเร็ว เพราะเป็นการทำงาน แบบ Client Side (ทำงานบน Browser)
                ที่ควบคุมการแสดงผล ด้วย JavaScript เกือบทั้งหมด
            </p>
            <h4>ข้อดีของ SPA</h4>
            <ul>
                <li>มี User Experience ที่ดีกว่า User ไม่ต้องรอนานเวลาโหลดหน้าใหม่</li>
                <li>ลดการทำงานของฝั่ง Server Server ไม่จำเป้นต้องทำการส่ง หน้า page
                    มาใหม่ทุกครั้งทำหน้าที่แค่แลกเปลี่ยนข้อมูลกันบางส่วน</li>
                <li></li>
            </ul>
            <h4>ข้อเสียของ SPA</h4>
            <ul>
                <li>Security เนื่องจากการทำ SPA เป็นการทำงานบนหน้า html เพียงหน้าเดียว เราจะต้องคุม Security เองให้ดี
                    ซึ่งไม่เหมือนกับการเขียนเว็บปกติที่เราสามารถพึ่งพา server ได้เต็มที่
                    หนึ่งในเรื่องนี้ก็แก้ได้โดยการใช้พวก token เช่น JWT, HMAC เป้นต้น</li>
                <li>SEO เนื่องจากการทำงานเป็นการใช้ javascript render ทำให้ bot ของ search engine
                    ไม่สามารถอ่านเนื้อหาข้างในได้</li>
                <li>ไม่ support browser รุ่นเก่า สาเหตุที่ SPA ไม่ค่อยดังเนื่องจากปัญหา cross browser นี่หล่ะครับ
                    บางคนก็ยังจำเป็นต้องใช้ browser เก่าถึงแม้ว่าจะมีการผลักดันจากเว็บใหญ่ๆ ให้ไปใช้ browser รุ่นใหม่
                    แต่ก็ยังไม่สามารถทำได้เนื่องจากมี web ที่ต้องใช้งานในองค์กรแล้วไม่ support browser รุ่นใหม่ๆ เป็นต้น
                </li>
            </ul>
            <img src="../images/pwa.png" alt="comparison" class="image">
            <h4>PWA เทรนที่น่าจับตามอง</h4>
            <p>เจ้านี่คือเทคโนโลยีที่จะทำให้เว็บของเราเนี่ย มีความใกล้เคียงกับ App
                ในมือถือมากขึ้น ทั้งความลื่นไหลในการใช้งาน, เข้าเมนูต่างๆอย่างง่ายดาย,
                การใช้งานเมื่ออยู่ใน Mode Offline, การทำ Push Notification ฯลฯ
                ในขณะเดียวกันก็เก็บข้อดีของเว็บไว้อาทิเช่น ความสดใหม่ของข้อมูล(อัพเดทกันได้ทันที
                ไม่ต้องไปอัพ App Store), ความเข้าถึงง่ายไม่ต้อง Install ให้ยุ่งยาก</p>

            <p>
                วิธีลงเจ้า PWA นี่ก็ง่ายๆ แค่อยู่ในหน้าเว็บที่พัฒนาด้วย PWA แล้วกด Add To Home Screen….
            </p>
            <p>เรียบร้อย! เราก็ได้ลง Progressive Web App ลงเครื่องของท่านแล้วครับ
                ทีนี้พอเราลองไปที่หน้า Homescreen ก็จะพบว่ามี Icon ของ Aliexpress สีแดงๆอยู่
                ให้ท่านผู้อ่านลองกดเข้าไปปุ้ป ก็จะเห็นหน้า Splash Screen เก๋ๆ เป็นรูปโลโก้ App และ Background สีแดงฉาน
                เต็มจอ เก๋ๆ ตรงนี้เราก็จะเข้า App มาละครับ สังเกตว่าจะเป็น Feeling แบบ App ที่เราใช้กันเลย ไม่มี Address
                Bar ให้ยุ่งยาก รวมถึงสามารถกด Hamburger เมนูหรือไอ้เจ้าขีดสามขีดตรงซ้ายบน ให้โชว์เมนูออกมาได้อย่างสวยงาม
            </p>
            <img src="../images/preview.png" alt="comparison" class="image">
            <p>
                ถ้าคิดว่าหมดแค่นี้… ลองปิดอินเตอร์เน็ตในมือถือดู แล้วเข้า App อีกที… แต่น แต๊นนน
                สังเกตได้ว่าแอพยังทำงานได้ เมนูต่างๆยังอยู่ครบ เลยใช่ไหมครับ
            </p>
            <h4>ทำไมต้อง PWA</h4>
            <img src="../images/why_pwa.png" alt="comparison" class="image">
            <p>จากการวิจัยของ comScore Mobile Metrix พบว่าในปัจจุบัน
                ค่าเฉลี่ยของการโหลดแอพใหม่ลงมือถือต่อเดือนมันอยู่ที่ 0 แล้วจริงๆ
                ลองคิดง่ายๆครับว่าในมือถือที่เราใช้กันอยู่ เดือนๆนึงโหลดอะไรมาเพิ่มบ้าง รวมถึงใช้กันจริงๆ
                ทุกวันเนี่ยกี่แอพกัน (ในงานวิจัยบอกว่า 80% ของเวลาที่ใช้มือถือ ใช้อยู่แค่ 3 แอพหลักๆ เท่านั้นเอง)</p>
            <p>ในขณะที่มาดูข้อมูลการใช้งานเว็บไซต์ พบว่าผู้ใช้มือถือในหนึ่งเดือน เข้าเว็บไซต์ต่างๆกว่า 100 เว็บไซต์
                Google เลยบอกว่าปล่อยไว้อย่างงี้ไม่ได้ละ จึงปิ๊งไอเดีย จะมายกเครื่องเว็บไซต์ของเรากัน ภายใต้แนวคิด…</p>
            <img src="../images/pwa_feature.png" alt="comparison" class="image">
            <ul>
                <li>
                    Reliable - ไม่ใช่กดเปิด App ขึ้นมาแล้วเจอ Downasaur (ชื่อเล่นของตัวไดโนเสาร์ ที่เรามักเจอใน Chrome
                    เวลาเน็ตขัดข้อง) ต้องทำงานได้แม้ในโหมด Offline
                </li>
                <li>
                    Fast - มีงานวิจัยออกมาว่า Users กว่า 53% ถอดใจที่จะเข้าเว็บ หากเว็บใช้เวลาโหลดเกิน 3 วินาที
                    ดังนั้นต้องทำไงก็ได้ ให้กดปุ้ปติดปั้ป พร้อมใช้งาน
                </li>
                <ul>
                    Engaging-แบ่งออกเป็น 3 หัวข้อย่อยๆ ได้แก่
                    <li>Homescreen เข้าถึงง่าย สามารถกด Icon App ได้จาก Home screen</li>
                    <li>Immersive นักพัฒนาสามารถควบคุม Experience ของ User กำหนด รูปแบบหน้าตาของ App ว่าจะมี Address Bar
                        ไหม
                        เอาแนวตั้งแนวนอนได้</li>
                    <li>
                        Notification อันนี้หล่อ คือสามารถ Push Notification ให้ User ได้แบบ App เลยนั่นเอง
                    </li>
                </ul>
            </ul>
            <h4>เบื้องหลังการทำงานของ PWA</h4>
            <p>ในการทำให้เว็บของเราเป็น PWA นั้น ผมขอแบ่งพระเอกออกเป็น 2 คนหลักๆครับคือ ServiceWorker กับ Manifest.json
            </p>
            <img src="../images/service_worker.png" alt="comparison" class="image">
            <b>ServiceWorker</b>
            <p>ServiceWorker หรือ SW เอาง่ายๆคือไฟล์ Cilent-side proxy ที่เราเขียนขึ้นมาด้วย JavaScript นี่แหล่ะครับ พอ
                Users เข้ามาเว็บเรา เราก็จะทำการ Install เจ้า SW นี่ลงไปในเครื่องของ User คนนั้นๆ

                หน้าที่ของ SW ก็คือ กำหนดให้ Cache สิ่งต่างๆที่เราจำเป็นในเว็บของเราไว้ ซึ่งเราก็กำหนดได้ว่าจะให้ Cache
                ส่วนไหน ไม่ Cache ส่วนไหน</p>
            <p>ง่ายๆ ให้ลองมองเป็น App ครับ เราอาจจะบอกให้ SW แคช Header, ปุ่มต่างๆ ของเราไว้
                เพื่อให้ครั้งต่อไปที่เข้าเว็บไม่ต้องเสียเวลามานั่งโหลดเจ้า Element เหล่านั้นใหม่
                แต่ในส่วนเนื้อหาเนี่ยให้ไม่ต้องแคช ให้ดึงออกมาใหม่ทุกครั้ง หรือจะบอกให้ใช้ Strategy ต่างๆเช่น Cache Then
                Network คือ เข้าเว็บมาให้ดึงเนื้อหาจาก Cache ที่เก็บไว้ก่อน พอ Network โหลดเสร็จค่อยเอาเนื้อหาใหม่มา Re
                render เข้าไปอีกที

                ซึ่งเจ้าตัวนี้ก็จะทำให้เว็บไซต์ของเราทำงานเร็วขึ้นปรู๊ดปร๊าด ผิดหูผิดตา รวมถึงสามารถทำงานในโหมด Offline
                ได้ด้วย เนื่องจากเรา Browser สามารถไปดึง Element บางส่วนที่เรากำหนดไว้จาก Cache มาใช้งานได้เลย</p>
            <img src="../images/push_noti.png" alt="comparison" class="image">
            <p>
                ไม่หมดเพียงแค่นั้น อีกหนึ่งหน้าที่ที่สำคัญมากๆ ของ SW คือการทำ Push Notification นั่นเอง เนื่องจากเจ้า
                SW เนี่ยแม้เราทำการปิด Browser ของเราไปแล้ว แต่ OS ก็สามารถทำการปลุก SW ออกมาทำงานได้
                ซึ่งก็ทำให้เราสามารถเขียน Code เพื่อรับ Message ที่ส่งมาได้
            </p>
            <b>Manifest.json</b>
            <img src="../images/maifest.jpeg" alt="comparison" class="image">
            <p>
                เจ้าตัวนี้เป็นไฟล์ JSON เล็กๆที่เราใส่เข้าไปใน head ของ html ครับ หน้าที่ของมันมีมากมายอาทิเช่น


            </p>
            <ul>
                <li>ทำให้เว็บของเรามี Icon สวยๆบน หน้า Home screen เมื่อ Users กด Add to homescreen เว็บของเรา</li>
                <li>สามารถเปิดเว็บแบบ Full screen mode ไม่มี Address bar เมื่อ Users กดเข้ามาจากหน้า Homescreen</li>
                <li>ควบคุมมุมมองแนวตั้ง แนวนอน ของ Users ได้</li>
                <li> ระบุ สี และ Icon ที่จะใช้มาประกอบเป็น Splash screen (หน้าจอ ตอนกดแอพขึ้นมา ลองดูรูปข้างบนครับ
                    อันขวาสุด)</li>
            </ul>
            <p>
                สำคัญอีกเรื่องเกือบลืมคือเว็บไซต์ของคุณจะใช้งานพวก Service Worker ได้จำเป็นต้องมี HTTPS
                เรียกได้ว่าจะให้พลังที่ยิ่งใหญ่ไปเล่นกับเครื่อง Users ได้ขนาดนั้น เราก็ต้องรับผิดชอบชีวิต
                ทรัพย์สินเขาให้เรียบร้อย ไม่ใช่โดนดักตีหัวระหว่างทางนะครับ (เดี๋ยวนี้มี Cloudflare, Firebase
                ให้ลองเล่นกันฟรีๆแล้วนะครับ ซึ่งทำให้เราไปลองทำ HTTPS กันแบบฟรีๆแล้ว) เรียกได้ว่า การใช้งาน PWA จะทำให้เว็บเรากสลายเป็น Mobile app ได้ทันทีซึ่งนับว่าเป็น
                เทคโนโลยีที่น่าจับตามองอีกครั้งหนึ่งเลยจริงๆ
            </p>
            <div class="writer">
                <div class="block-writer-image">
                    <img src="../images/me.jpg" alt="" class="writer-image">
                </div>
                <div class="block-writer-name">
                    <div>
                        <b>Patchara Leelalumplert</b>
                    </div>
                    <div>
                        Student @ SIT KMUTT
                    </div>
                </div>
            </div>
        </section>
    </div>
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
    <script src="../assets/main.js"></script>
</body>

</html>